# -- HowTo --

By Halvard Tislavoll. 

I created this program in late autumn 2023 as my own training in Python programming. The purpose is to build a game for the grandchildren who are visiting me and my wife, Marit. I take the opportunity to thank her for the patience she has shown me while I 'just' sit and program.

## About the program development process

First I got an idea. This was formed in a draft in a text file. I created the file using the editor Xed. The simple word processor comes with the Linuxmint operating system.

I have taken as a starting point an old board game that our children liked to play with when they were little.

##### Scan photos

It was easy to scan in the images, but they needed to be enhanced and resized. For this I used the image processing program Gimp. I had four game boards with nine picture cards each.

Now I had 36 images for the project. The theme is taken from agriculture, and the game published by Dam, owned by Egmont, bears the name "Bondegårdslotto". So my project was named: "BondegårdsLotto" and I created a folder with this name starting with "u_" since it is under development. Since I live in Norway, I have given the game a Norwegian language suit.

##### Project folders

I created a subfolder named "/assets". In this I created two subfolders; "lotto_graphics" for the images, and "button_graphics" for widget graphics. In addition, I also saved the program draft, "bondelotto.txt".

##### Creating scripts

Then I was ready to create my program files. I started my tool PAGE - Python Automated GUI Generator. Here I designed the GUI - Graphical User Interface for the program. PAGE generated a gui module and a support module for me.

###### Python programming

Now I was ready to program in the "support" module. I have to deal with the widgets I have designed in PAGE, but luckily PAGE also has a .tcl file that I can use if I want to go back to PAGE and change my widget setup that the GUI module contains.

###### tkinter

Although PAGE is made using the programming language Tcl, hence a .tcl file, the python modules that are generated are pure python scripts. These use the tkinter module that comes with the Python program for graphical representation.

Tkinter syntax is used when programming against my widgets.

Programming technology with the use of several modules makes the use of module import important. Fortunately, Page provides me with the necessary code to launch the GUI and display it on the screen.

###### debug

This makes it easier to develop my program. I get ideas for development. These are formed in Python syntax and written into my "support" script. Then I can run the script to test. If I find errors, I can debug" by testing alternative code such as, for example, other parameters and then testing again. This is how I continue until I get it to work according to plan. Then I can continue with the next idea for development. But that It is always important to follow the main idea of the program.

###### development stage - script decoration

First, I put my personal stamp on the script. I create headings so that it is easy to navigate and find the code. I call each decoration a section. Here are the headings I first insert into the script:

```python
# =============================================================================
#
# Moduleimport section
# ~~~~~~~~~~~~~~~~~~~~~~
:
# =============================================================================
#
# Initial section
# ~~~~~~~~~~~~~~~~~
:
# =============================================================================
#
# Callback section
# ~~~~~~~~~~~~~~~~~
:
# =============================================================================
#
# Main program
# =============================================================================
```

###### development stage - dialog box

How to inform the user and take feedback during the program? For this I use tkinter's messagebox. This must be imported before use. And since I choose to inform the user about the consequence of pressing the "Exit" button, I need this tkinter service.

```python
from tkinter.messagebox import _show
```

###### development stage - program stop button

When the "Exit" button was designed in PAGE, I set the "command" attribute to "on_TBtnExit". This meant that I got most of the necessary code for the callback generated by PAGE in the support module. I just added two lines.

```python
def on_TBtnExit(*args):
    if _debug:
        print('bondegaard_support.on_TBtnExit')
        for arg in args:
            print ('    another arg:', arg)
        sys.stdout.flush()
    # Here starts my code
    _show('Avslutt', 'Beklager!\nNå er spillet slutt.')
    sys.exit()
```

###### development stage - global variable trick

Exchange of variables between functions and modules in the program is necessary. For this I can use the statement "global", or I can use the variable as an argument when I call the function. But I have learned from Greg D. Walter that I can create an empty python script and import this as a module to be used as a global memory area for variables to be used globally in the program. But the only problem is that the program crashes if this file does not exist when the program starts up. And to avoid this, I have developed a code that I place in the module import section of the script.

```python
#-----------------------------------------------------------
# Create an empty module and import while running the script
import os
module_name = "shared"   # empty_module
# Create the empty module file
with open(f"{module_name}.py", "w") as file:
    pass  # This creates an empty file
# Check if the file exists before importing
if os.path.isfile(f"{module_name}.py"):
    import importlib.util
    spec = importlib.util.spec_from_file_location(module_name, f"{module_name}.py")
    module = importlib.util.module_from_spec(spec)
    spec.loader.exec_module(module)
else:
    print(f"File '{module_name}.py' does not exist. Failed to import the module.")
sh=importlib   # sh is alias shared for short
#-----------------------------------------------------------
```

###### development stage - Program information

I have gotten into the habit of programming the app to call a function that gives the user information about the program running in the Terminal that runs the script at startup. To do this, import two auxiliary modules in the mobile import section first.

```python
from time import time   # time function used to calculate time
import datetime
```

Here is the code that provides information in the Terminal

```python
def give_sysem_info():
    '''Write information about this Application'''
    # remember to update myFile !!!
    import os
    import platform
    import datetime
    import shared as sh
    sh.decoration = 53
    # get system info
    py_f_name =    os.path.basename(sys.argv[0])
    current_path = os.path.abspath(__file__)
    py_version =   platform.python_version()
    author =       'Halvard Tislavoll'
    licence =      'MIT'
    current_time = datetime.datetime.now()
    sh.current_time_1 = f'{current_time.hour:02}:{current_time.minute:02}:{current_time.second}'
    # read this file and get page version on line 4
    myFile="./bondegaard_support.py"
    signal, all_text=read_text_file_lines(myFile)
    if signal:
        txt_lst=all_text.split('\n')
        sh.page_version=txt_lst[3][-4:]   # list out last of a function line, the "8.0G" from "... PAGE version 8.0G"
        # It is in line 4 but count from 0 it is 3
    else:
        print('Trouble, no _support file is found. Have you give the right name?')
    # print system info
    print()
    print(f'{current_time.year}-{current_time.month}-{current_time.day}')
    print(f'   GUI is constructed using page version {sh.page_version}')
    print(f'   Current path: {current_path}')
    print(f'   Python ver. : {py_version}')
    print(f'   File        : "{py_f_name}" is running')
    print(f'   Start time  : {sh.current_time_1}')
    print(f'   © Copyright : {author}, 2023')
    print(f'   Licence     : {licence}')
    print('-'*sh.decoration, '\n')
```

:

:

---

new name: "Image Memory Game"
